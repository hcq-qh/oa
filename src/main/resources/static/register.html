<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- 新 Bootstrap4 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.1.0/css/bootstrap.min.css">
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <!-- popper.min.js 用于弹窗、提示、下拉菜单 -->
    <script src="https://cdn.bootcss.com/popper.js/1.12.5/umd/popper.min.js"></script>
    <!-- 最新的 Bootstrap4 核心 JavaScript 文件 -->
    <script src="https://cdn.bootcss.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
    <!--vue开发环境版本，包含了有帮助的命令行警告-->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdn.staticfile.org/axios/0.18.0/axios.min.js"></script>
    <script src="js/vue-router.js"></script>
    <!--<script src="https://unpkg.com/axios/dist/axios.min.js"></script>-->

    <script src="https://cdn.staticfile.org/vue-resource/1.5.1/vue-resource.min.js"></script>
</head>
<body background="imges/bei.jpg" style="background-repeat: no-repeat;background-size: 100%">
<h1 align="center" style="margin-top: 150px;color: aliceblue">OA管理系统</h1>
<!-- 注册表单 -->
<div style="width:100%;text-align:center;margin-top: 100px" id="app">
    <form onsubmit="return false;">
        <div class="form-group">
            <label for="user" stype="display:inline;">账户：</label>
            <input type="text" class="form-control" id="user" style="display:inline;width:200px;" autocomplete="off"
                   name="username" v-model="zhang"/>
        </div>
        <div class="form-group">
            <label for="password" style="display:inline;">密码：</label>
            <input type="password" class="form-control" id="password" style="display:inline;width:200px;"
                   autocomplete="off" name="password" v-model="mi"/>
        </div>
        <button type="submit" class="btn btn-primary" @click="register">注册</button>
    </form>
</div>

<script>

    var vm = new Vue(
        {
            el: "#app",
            data: {
                zhang: "",
                mi: ""
            },
            methods: {

                register: function () {
                    // var username="";
                    // var password="";
                    // var d = {};
                    // d.username = this.zhang;
                    // d.password = this.mi;
                    this.$http.post('userregister',{username:this.zhang,password:this.mi},{emulateJSON:true}).then(function(res){
                        console.log(res.data.data);
                        if (res.data.data == 1){
                            alert("您已注册成功")
                            location.href = "login.html"
                        } else {
                            alert("注册失败")
                        }
                        // if(res.data.data != null){
                        //     location.href = "main.html"
                        // }else {
                        //     alert("您输入的账号或密码有误，请重新输入")
                        // }
                        // console.log(res.data.state)
                        // console.log(res.data.data.password)
                        // if (this.zhang == res.data.data.name && this.mi ==res.data.data.password){
                        //     location.href = "main.html"
                        // }else {
                        //     alert("账号或密码输入有误")
                        // }
                    },function(){
                        console.log('请求失败处理');
                    });

                    // $.ajax({
                    //     url: "sss",
                    //     data: JSON.stringify(d),
                    //     //type、contentType必填,指明传参方式
                    //     dataType:'json',
                    //     type: "POST",
                    //     contentType: "application/json;charset=utf-8",
                    //     success: function (date) {
                    //         //前端调用成功后，可以处理后端传回的json格式数据。
                    //         // console.log(date.name)
                    //         // console.log(date.toString())
                    //         // console.log(date.valueOf())
                    //         console.log(date.data.name)
                    //         console.log(date.data.code)
                    //         console.log(111)
                    //         // console.log(date.username)
                    //         if ("aaa"  == date.data.name){
                    //           alert(1111111111);
                    //         }
                    //
                    //     }
                    // });

                }
            }

        }
    )

</script>
</body>
</html>